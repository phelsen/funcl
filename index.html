<html>
  <head>
    <style>
      body { font-family: arial; }
      table { border-collapse: collapse; }
      table tr td {  border: 1px solid; padding: 1em;
}
    </style>
  </head>
  <body>
    <div id="main">
        </div>
    
    <script  type="module">
      const cl = console.log;
      import  * as f  from "./funcl.js"
      const {array_p, assoc, atom_p, boolean_p, clone, coll_p, concat, count, countable_p, date_p, dec, drop, eq, even_p, filter, first, function_p, inc, last, lowerCase, map, mapEntries_2map, map_p, map_2mapEntries, neg_p, nth, number_p, odd_p, partial, partialR, pipe, pos_p, range, reduce, reverse, regexp_p, rest, string_p, sqr, takeLast, takeWhile, type, undefined_p, upperCase, zero_p} = f; 
      window.f =f ;
      const r = [];
      let arr; let dict; let dict2;
      r.push ("range(10);");
      r.push("arr=range(1,11); arr");
      r.push("count(arr)"); 
      r.push("reverse(arr)");
      r.push("count('λλ FUNCL! λλ') ");
      r.push("reverse('λλ FUNCL! λλ' )");
      r.push("[first(arr), last(arr)]");
      r.push("rest(arr)");
      r.push("takeWhile(x => x < 5, arr)");
      r.push("takeLast(3, arr)");
      r.push("map(sqr,arr)");
      r.push("pipe(arr,map(sqr),reverse,map(x=>x+100),filter(odd_p))");
      r.push("dict=assoc({}, 'fn' , 'Bar' , 'ln', 'Foo')")
      r.push("map(type, [arr,dict,11,true,{},[],new Date(),/funcl/])")
      r.push("dict=pipe(dict,assoc('ln', 'StillFoo', 'address',{ street : 'FunclStreet' , nb :  '12' }));");
      r.push("dict2=clone(dict)");
      r.push("eq(dict,dict2)");
      r.push("dict2=assoc(dict2,'nickname','funky' )")
      r.push("eq(dict,dict2)");
      window.rows = r; 
      const rows =  map(x => `<tr><td>${x}</td><td>${JSON.stringify(eval(x))}</td></tr>`,r);
      const tbl = `<table>${rows}</table>`; 
      document.querySelector("#main").innerHTML = tbl;
            window.dict2 = dict2;
      window.r  = r; 
      </script>
    
    
  </body>
</html> 
